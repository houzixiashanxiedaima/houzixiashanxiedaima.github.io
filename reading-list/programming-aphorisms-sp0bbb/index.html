<!DOCTYPE html><html lang="zh-CN" data-astro-cid-sckkx6r4> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v5.17.1"><meta name="description" content="ç¼–ç¨‹ç®´è¨€
2026å¹´2æœˆ11æ—¥
ä¸€ç¯‡å…³äºç¼–ç¨‹çš„å…ƒåæ€æ–‡ç« â€”â€”å®¡è§†æˆ‘åœ¨ç¼–ç¨‹æ—¶çš„æ€ç»´è¿‡ç¨‹ï¼Œå¹¶è¯•å›¾å˜æ¸…ä½•ä¸ºç¼–ç¨‹â€œçŸ¥è¯†â€ã€‚ç»“æœå‘ç°ï¼Œå…¶ä¸­ç›¸å½“ä¸€éƒ¨åˆ†æ˜¯â€¦â€¦"><meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline'; img-src 'self' data: https:; connect-src 'self'; font-src 'self' data:;"><link rel="canonical" href="https://blog.yuyins.com/reading-list/programming-aphorisms-sp0bbb/"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://blog.yuyins.com/reading-list/programming-aphorisms-sp0bbb/"><meta property="og:title" content="ç¼–ç¨‹ç®´è¨€"><meta property="og:description" content="ç¼–ç¨‹ç®´è¨€
2026å¹´2æœˆ11æ—¥
ä¸€ç¯‡å…³äºç¼–ç¨‹çš„å…ƒåæ€æ–‡ç« â€”â€”å®¡è§†æˆ‘åœ¨ç¼–ç¨‹æ—¶çš„æ€ç»´è¿‡ç¨‹ï¼Œå¹¶è¯•å›¾å˜æ¸…ä½•ä¸ºç¼–ç¨‹â€œçŸ¥è¯†â€ã€‚ç»“æœå‘ç°ï¼Œå…¶ä¸­ç›¸å½“ä¸€éƒ¨åˆ†æ˜¯â€¦â€¦"><meta property="og:image" content="https://blog.yuyins.com/favicon.svg"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://blog.yuyins.com/reading-list/programming-aphorisms-sp0bbb/"><meta property="twitter:title" content="ç¼–ç¨‹ç®´è¨€"><meta property="twitter:description" content="ç¼–ç¨‹ç®´è¨€
2026å¹´2æœˆ11æ—¥
ä¸€ç¯‡å…³äºç¼–ç¨‹çš„å…ƒåæ€æ–‡ç« â€”â€”å®¡è§†æˆ‘åœ¨ç¼–ç¨‹æ—¶çš„æ€ç»´è¿‡ç¨‹ï¼Œå¹¶è¯•å›¾å˜æ¸…ä½•ä¸ºç¼–ç¨‹â€œçŸ¥è¯†â€ã€‚ç»“æœå‘ç°ï¼Œå…¶ä¸­ç›¸å½“ä¸€éƒ¨åˆ†æ˜¯â€¦â€¦"><meta property="twitter:image" content="https://blog.yuyins.com/favicon.svg"><title>ç¼–ç¨‹ç®´è¨€</title><!-- Theme and color scheme script (runs before page loads to prevent flash) --><script>
			// åˆå§‹åŒ–é…è‰²æ–¹æ¡ˆ - é»˜è®¤ä½¿ç”¨ stone-amber
			const colorScheme = localStorage.getItem('colorScheme') || 'stone-amber';
			document.documentElement.setAttribute('data-color', colorScheme);

			// å¼ºåˆ¶ä½¿ç”¨æµ…è‰²ä¸»é¢˜
			document.documentElement.setAttribute('data-theme', 'light');
		</script><link rel="stylesheet" href="/_astro/_slug_.BZEkEaL-.css">
<style>.blog-post-container[data-astro-cid-wrgicudb]{width:100%;margin:0 auto;padding:2rem 0}.blog-post[data-astro-cid-wrgicudb]{width:100%;min-width:0;max-width:42rem;margin:0 auto}.article-header[data-astro-cid-wrgicudb]{margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid var(--border)}.article-header[data-astro-cid-wrgicudb] h1[data-astro-cid-wrgicudb]{font-size:2rem;line-height:1.3;margin-bottom:1rem;font-weight:700;color:var(--foreground);word-break:break-word}.article-meta[data-astro-cid-wrgicudb]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:var(--muted-foreground)}.source-tag[data-astro-cid-wrgicudb]{background-color:var(--muted);color:var(--foreground);padding:.125rem .5rem;border-radius:9999px;font-weight:500;font-size:.75rem;text-decoration:none;transition:opacity .2s}.source-tag[data-astro-cid-wrgicudb]:hover{opacity:.8}.separator[data-astro-cid-wrgicudb]{color:var(--border)}.article-content[data-astro-cid-wrgicudb]{line-height:1.8;margin-bottom:3rem;font-size:1.0625rem;color:var(--foreground)}.article-content[data-astro-cid-wrgicudb] h2{margin-top:2rem;margin-bottom:1rem;font-size:1.5rem;font-weight:600}.article-content[data-astro-cid-wrgicudb] h3{margin-top:1.5rem;margin-bottom:.75rem;font-size:1.25rem;font-weight:600}.article-content[data-astro-cid-wrgicudb] p{margin-bottom:1.25rem}.article-content[data-astro-cid-wrgicudb] a{color:var(--accent);text-decoration:underline;text-underline-offset:2px}.article-content[data-astro-cid-wrgicudb] img{max-width:100%;height:auto;border-radius:.5rem;margin:1.5rem 0}.article-content[data-astro-cid-wrgicudb] blockquote{border-left:4px solid var(--border);padding-left:1rem;margin:1.5rem 0;color:var(--muted-foreground);font-style:italic}.article-content[data-astro-cid-wrgicudb] pre{background:var(--muted);padding:1rem;border-radius:.5rem;overflow-x:auto;font-family:monospace;margin:1.5rem 0}.article-content[data-astro-cid-wrgicudb] ul,.article-content[data-astro-cid-wrgicudb] ol{padding-left:1.5rem;margin-bottom:1.25rem}.article-content[data-astro-cid-wrgicudb] li{margin-bottom:.5rem}.article-footer[data-astro-cid-wrgicudb]{padding-top:2rem;border-top:1px solid var(--border);display:flex;flex-direction:column;gap:1.5rem;align-items:center}.action-row[data-astro-cid-wrgicudb]{display:flex;justify-content:center}.read-original-btn[data-astro-cid-wrgicudb]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background-color:var(--foreground);color:var(--background);border-radius:.5rem;font-weight:500;text-decoration:none;transition:opacity .2s}.read-original-btn[data-astro-cid-wrgicudb]:hover{opacity:.9}.back-to-list[data-astro-cid-wrgicudb]{text-align:center}.back-link[data-astro-cid-wrgicudb]{color:var(--muted-foreground);text-decoration:none;font-size:.875rem;transition:color .2s}.back-link[data-astro-cid-wrgicudb]:hover{color:var(--foreground)}
</style></head> <body data-astro-cid-sckkx6r4> <a id="skip-to-content" href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-accent focus:text-background" data-astro-cid-sckkx6r4>Skip to content</a> <header class="header" data-astro-cid-3ef6ksr2> <nav class="header-nav" aria-label="Main navigation" data-astro-cid-3ef6ksr2> <a href="/" class="header-logo" data-astro-cid-3ef6ksr2>
AstroBlog
</a> <div class="header-links" data-astro-cid-3ef6ksr2> <ul class="nav-list" data-astro-cid-3ef6ksr2> <li data-astro-cid-3ef6ksr2> <a href="/" class="nav-link" data-astro-prefetch="true" data-astro-cid-3ef6ksr2> æ–‡ç«  </a> </li><li data-astro-cid-3ef6ksr2> <a href="/category" class="nav-link" data-astro-prefetch="true" data-astro-cid-3ef6ksr2> åˆ†ç±» </a> </li><li data-astro-cid-3ef6ksr2> <a href="/reading-list" class="nav-link" data-astro-prefetch="true" data-astro-cid-3ef6ksr2> è®¢é˜… </a> </li><li data-astro-cid-3ef6ksr2> <a href="/about" class="nav-link" data-astro-prefetch="true" data-astro-cid-3ef6ksr2> å…³äº </a> </li> </ul> <div class="header-actions" data-astro-cid-3ef6ksr2> <div id="search" data-astro-cid-otpdt6jm> <button id="search-button" class="search-toggle" aria-label="æ‰“å¼€æœç´¢" title="æœç´¢ (âŒ˜K)" data-astro-cid-otpdt6jm> <svg class="search-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-astro-cid-otpdt6jm> <circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-astro-cid-otpdt6jm></circle> <path d="M20 20L16.5 16.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-astro-cid-otpdt6jm></path> </svg> </button> <dialog id="search-dialog" class="search-modal" data-astro-cid-otpdt6jm> <div class="modal-content" data-astro-cid-otpdt6jm> <div class="modal-header" data-astro-cid-otpdt6jm> <h2 class="modal-title" data-astro-cid-otpdt6jm>æœç´¢æ–‡ç« </h2> <button id="close-search" class="close-button" aria-label="å…³é—­æœç´¢" data-astro-cid-otpdt6jm> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-astro-cid-otpdt6jm> <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-otpdt6jm></path> </svg> </button> </div> <div id="pagefind-ui" data-astro-cid-otpdt6jm></div> </div> </dialog> </div> <script type="module">let d=!1;const c="pagefind-loaded";async function l(t=0){if(sessionStorage.getItem(c)==="true")return g(),!0;const r=document.getElementById("pagefind-ui");if(!r)return!1;r.innerHTML='<div style="padding: 2rem; text-align: center; color: var(--muted-foreground);">åŠ è½½ä¸­...</div>';try{return await new Promise((o,s)=>{const a=document.createElement("script");a.src="/pagefind/pagefind-ui.js",a.onload=o,a.onerror=s,document.head.appendChild(a)}),g(),sessionStorage.setItem(c,"true"),!0}catch(i){return console.error("Failed to load search:",i),t<2?(console.log(`Retrying search load... (${t+1}/2)`),await new Promise(o=>setTimeout(o,1e3)),l(t+1)):(r&&(r.innerHTML=`
          <div style="padding: 2rem; text-align: center;">
            <p style="color: var(--muted-foreground); margin-bottom: 1rem;">æœç´¢åŠŸèƒ½åŠ è½½å¤±è´¥</p>
            <button id="retry-search" style="padding: 0.5rem 1rem; background: var(--accent); color: var(--accent-foreground); border: none; border-radius: 0.375rem; cursor: pointer;">
              é‡è¯•
            </button>
          </div>
        `,document.getElementById("retry-search")?.addEventListener("click",()=>{sessionStorage.removeItem(c),l(0)})),!1)}}function g(){typeof PagefindUI<"u"&&(new PagefindUI({element:"#pagefind-ui",showSubResults:!0,showImages:!1,excerptLength:15,translations:{placeholder:"æœç´¢æ–‡ç« ...",clear_search:"æ¸…é™¤",load_more:"åŠ è½½æ›´å¤š",search_label:"æœç´¢æ­¤ç«™ç‚¹",filters_label:"ç­›é€‰",zero_results:"æœªæ‰¾åˆ°ç»“æœ [SEARCH_TERM]",many_results:"æ‰¾åˆ° [COUNT] ä¸ªç»“æœ [SEARCH_TERM]",one_result:"æ‰¾åˆ° [COUNT] ä¸ªç»“æœ [SEARCH_TERM]",alt_search:"æœªæ‰¾åˆ° [SEARCH_TERM] çš„ç»“æœã€‚æ˜¾ç¤º [DIFFERENT_TERM] çš„ç»“æœ",search_suggestion:"æœªæ‰¾åˆ° [SEARCH_TERM] çš„ç»“æœã€‚å°è¯•ä»¥ä¸‹æœç´¢ï¼š",searching:"æœç´¢ä¸­ [SEARCH_TERM]..."}}),setTimeout(()=>{const t=document.querySelector(".pagefind-ui__search-input");t instanceof HTMLElement&&t.focus()},100))}function u(){if(d)return;d=!0;const t=document.getElementById("search-button"),n=document.getElementById("search-dialog"),r=document.getElementById("close-search");if(!t||!n||!r)return;let i=sessionStorage.getItem(c)==="true";const o=async()=>{n.showModal(),document.body.style.overflow="hidden",i?setTimeout(()=>{const e=document.querySelector(".pagefind-ui__search-input");e instanceof HTMLElement&&e.focus()},100):await l()&&(i=!0)},s=()=>{n.close(),document.body.style.overflow=""},a=e=>{e.target===n&&s()},m=e=>{e.key==="Escape"&&n.open&&s()},f=e=>{(e.metaKey||e.ctrlKey)&&e.key==="k"&&(e.preventDefault(),n.open?s():o())};t.addEventListener("click",o),r.addEventListener("click",s),n.addEventListener("click",a),document.addEventListener("keydown",m),document.addEventListener("keydown",f),document.addEventListener("astro:before-swap",()=>{t.removeEventListener("click",o),r.removeEventListener("click",s),n.removeEventListener("click",a),document.removeEventListener("keydown",m),document.removeEventListener("keydown",f),d=!1},{once:!0})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",u):u();document.addEventListener("astro:page-load",u);</script> <link href="/pagefind/pagefind-ui.css" rel="stylesheet">  </div> </div> </nav> </header>  <main id="main-content" data-pagefind-body class="main-content main-content--wide" data-astro-cid-sckkx6r4>  <div class="blog-post-container" data-astro-cid-wrgicudb> <article class="blog-post" data-astro-cid-wrgicudb> <header class="article-header" data-astro-cid-wrgicudb> <h1 data-astro-cid-wrgicudb>ç¼–ç¨‹ç®´è¨€</h1> <div class="article-meta" data-astro-cid-wrgicudb> <a href="https://matklad.github.io" target="_blank" rel="noopener noreferrer" class="source-tag" data-astro-cid-wrgicudb>matklad.github.io</a> <span class="separator" data-astro-cid-wrgicudb>Â·</span> <time data-astro-cid-wrgicudb>2026å¹´2æœˆ11æ—¥</time> </div> </header> <!-- ä½¿ç”¨æ¸…æ´—åçš„å®‰å…¨ HTML å†…å®¹ --> <div class="article-content app-prose" data-astro-cid-wrgicudb>
<header>
  <h1>Programming Aphorisms</h1>
  <time>Feb 11, 2026</time>
</header>
<p>A meta programming post â€” looking at my thought process when coding and trying to pin down what is
programming â€œknowledgeâ€. Turns out, a significant fraction of that is just reducing new problems to
a vocabulary of known tricks. This is a personal, descriptive post, not a prescriptive post for you.</p>
<p>It starts with a question posted on Ziggit. The background here is that Zig is in the process of
removing ambient IO capabilities. Currently, you can access program environment from anywhere via
<span><code>std.process.getEnvVarOwned</code>.</span>
In the next Zig version, youâ€™ll have to thread
<span><code>std.process.Environ.Map</code></span>
from main down to every routine that needs access to the environment. In this userâ€™s case, they have
a <code>readHistory</code> function which used to look up the path to the history file in the environment, and
they are wondering how to best model that in the new Zig. The options on the table are:</p>

<figure>


<pre><code><span><span>pub</span> <span>fn</span><span> readHistory</span>(</span>
<span>    io: std.Io,</span>
<span>    alloc: Allocator,</span>
<span>    file: std.Io.File,</span>
<span>) ReadHistoryError<span>!</span><span>void</span>;</span>
<span></span>
<span><span>pub</span> <span>fn</span><span> readHistory</span>(</span>
<span>    io: std.Io,</span>
<span>    alloc: Allocator,</span>
<span>    maybe_environ_map: ?<span>*</span>std.process.Environ.Map,</span>
<span>) ReadHistoryError<span>!</span><span>void</span>;</span>
<span></span>
<span><span>pub</span> <span>fn</span><span> readHistory</span>(</span>
<span>    io: std.Io,</span>
<span>    alloc: Allocator,</span>
<span>    maybe_absolute_path: ?[]<span>const</span> <span>u8</span>,</span>
<span>    maybe_environ_map: ?<span>*</span>std.process.Environ.Map,</span>
<span>) ReadHistoryError<span>!</span><span>void</span>;</span></code></pre>

</figure>
<p>My starting point would instead be this:</p>

<figure>


<pre><code><span><span>pub</span> <span>const</span> HistoryOptions = <span>struct</span> {</span>
<span>    file: []<span>const</span> <span>u8</span>,</span>
<span></span>
<span>    <span>pub</span> <span>fn</span><span> from_environment</span>(</span>
<span>        environment: <span>*</span><span>const</span> std.process.Environ.Map,</span>
<span>    ) HistoryOptions;</span>
<span>};</span>
<span></span>
<span><span>pub</span> <span>fn</span><span> readHistory</span>(</span>
<span>    io: std.Io,</span>
<span>    gpa: Allocator,</span>
<span>    options: HistoryOptions,</span>
<span>) ReadHistoryError<span>!</span><span>void</span>;</span></code></pre>

</figure>
<p>In terms of meta programming, what I find fascinating is that this, for me, is both immediate (I
donâ€™t have to think about it), but also is clearly decomposable into multiple factoids Iâ€™ve
accumulated before. Hereâ€™s a deconstruction of what I did here, the verbal â€œlabelsâ€ I use to think
about what I did, and where I had learned to do that:</p>
<p><em>First</em>, I â€œraised the abstraction levelâ€ by giving <em>it</em> a name and a type (<code>HistoryOptions</code>). This
is a rare transformation which I learned and named myself. Naming is important for my thinking and
communicating process. â€œLetâ€™s raise abstraction levelâ€ is a staple code review comment of mine.</p>
<p><em>Second</em>, I avoided â€œmidlayer mistakeâ€ by making sure that every aspect of options is
user-configurable. Easy to do in Zig, where all fields are public. I learned about
<a href="https://lwn.net/Articles/336262/" target="_blank" rel="noopener noreferrer">midlayer mistake</a> from a GitHub comment by
<a href="https://joshtriplett.org" target="_blank" rel="noopener noreferrer">Josh Triplett</a>.</p>
<p><em>Third</em>, I provided a â€œshortcutâ€, the
<span><code>from_environment</code></span>
convenience function that cuts across abstraction layers. I learned the â€œshortcutâ€ aphorism from
<a href="https://spookylukey.github.io/django-views-the-right-way/detail-view.html#discussion-layering-violations-shortcuts-vs-mixins" target="_blank" rel="noopener noreferrer"><em>Django Views â€” The Right Way</em>.</a>
Germane to the present article, I read that post a decade after I had touched Django the last time.
It was useless to me on the object level. On the meta level, reading the article solidified and
<em>named</em> several programming tricks for me. See reverberations in
<a href="https://rust-analyzer.github.io/blog/2020/09/28/how-to-make-a-light-bulb.html" target="_blank" rel="noopener noreferrer"><em>How to Make a ğŸ’¡?</em>.</a></p>
<p><em>Fourth</em>, I instinctively renamed <code>alloc</code> to â€œgpaâ€ (in opposition to â€œarenaâ€), the naming I spotted
in the Zig compiler.</p>
<p><em>Fifth</em>, I named the configuration parameter â€œoptionsâ€, not <code>config</code>, <code>props</code> or <code>params</code>, a naming
scheme I learned at TigerBeetle.</p>
<p><em>Sixth</em>, I made sure that the signature follows â€œpositional DIâ€ scheme. Arguments that are
dependencies, resources with unique types are injected positionally (and have canonical names like
<code>io</code> or <code>gpa</code>). Arguments that <em>directly</em> vary the behavior of function (as opposed to affecting
transitive callees) are passed by name, in the <code>Options</code> struct.</p>
<p>To be specific, I donâ€™t claim that my snippet is the right way to do this! I have no idea, as I
donâ€™t have access to the full context. Rather, if I were <em>actually</em> solving the problem, the snippet
above would be my initial starting point for further iteration.</p>
<p>Note that I also donâ€™t explain <em>why</em> I am doing the above six things, I only name them and point at
the origin. Actually explaining the <em>why</em> would take a blog post of its own for every one of them.</p>
<p>And this is I think the key property of my thought process â€” I have a bag of tricks, where the
tricks are named. Inside my mind, this label points both to the actual trick (code to type),
as well as a justification for it (in what context that would be a good trick to use).</p>
<p>And I use these tricks all the time, literally! Just answering in passing to a forum comment makes
me grab a handful! A lot of my knowledge is structured like a book of coding aphorisms.</p>
<hr />
<p>Meta meta â€” how come I have acquired all those tricks? I read voraciously, random commits, issues,
jumping enthusiastically into rabbit holes and going on wiki trips. The key skill here is
recognizing an aphorism once you see it. Reading Ziggit is part of trick-acquisition routine for
me. Having learned the trick, I remember it, where â€œrememberingâ€ is an act of active recall at the
opportune moment. This recall powers â€œhorizontal gene transferâ€ across domains, stealing shortcuts
from Django and midlayer mistake from the kernel. Did you notice that applying â€œhorizontal gene
transferâ€ to the domain of software engineering tacit knowledge is horizontal gene transfer? When
entering a new domain, I actively seek out the missing tricks. I am relatively recent in Zig, but
all the above tricks are either Zig native, or at least Zig adapted. Every once in a while, I
â€œinventâ€ a trick of my own. For example, â€œpositional DIâ€ is something I only verbalized last year.
This doesnâ€™t mean I hadnâ€™t been doing that before, just that the activity wasnâ€™t mentally labeled as
a separate thing you can deliberately do. I had the idea, now I also have an aphorism.</p>
</div> <footer class="article-footer" data-astro-cid-wrgicudb> <div class="action-row" data-astro-cid-wrgicudb> <a href="https://matklad.github.io/2026/02/11/programming-aphorisms.html" target="_blank" rel="noopener noreferrer" class="read-original-btn" data-astro-cid-wrgicudb>
é˜…è¯»åŸæ–‡ â†—
</a> </div> <div class="back-to-list" data-astro-cid-wrgicudb> <a href="/reading-list" class="back-link" data-astro-cid-wrgicudb>â† è¿”å›è®¢é˜…åˆ—è¡¨</a> </div> </footer> </article> </div>  </main> <footer class="site-footer" aria-label="Site footer" data-astro-cid-sz7xmlte> <div class="footer-content" data-astro-cid-sz7xmlte> <p class="footer-text" data-astro-cid-sz7xmlte>
&copy; 2026 AstroBlog
</p> <p class="footer-text" data-astro-cid-sz7xmlte>
Built with  <a href="https://astro.build/" target="_blank" rel="noopener noreferrer" class="footer-link" data-astro-cid-sz7xmlte>
Astro
</a> </p> </div> </footer>  </body></html> 