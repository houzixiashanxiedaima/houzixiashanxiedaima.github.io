<!DOCTYPE html><html lang="zh-CN" data-astro-cid-sckkx6r4> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v5.17.1"><meta name="description" content="本文是我此前关于扩展 Git 功能的文章的后续内容。Git 会在代码库中查找多个控制其行为的特殊文件。这些文件并非 .git/ 目录下的配置文件，而是实际提交至版本库中的文件。"><meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline'; img-src 'self' data: https:; connect-src 'self'; font-src 'self' data:;"><link rel="canonical" href="https://blog.yuyins.com/reading-list/gits-magic-files-snzps8/"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://blog.yuyins.com/reading-list/gits-magic-files-snzps8/"><meta property="og:title" content="Git 的特殊文件"><meta property="og:description" content="本文是我此前关于扩展 Git 功能的文章的后续内容。Git 会在代码库中查找多个控制其行为的特殊文件。这些文件并非 .git/ 目录下的配置文件，而是实际提交至版本库中的文件。"><meta property="og:image" content="https://blog.yuyins.com/favicon.svg"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://blog.yuyins.com/reading-list/gits-magic-files-snzps8/"><meta property="twitter:title" content="Git 的特殊文件"><meta property="twitter:description" content="本文是我此前关于扩展 Git 功能的文章的后续内容。Git 会在代码库中查找多个控制其行为的特殊文件。这些文件并非 .git/ 目录下的配置文件，而是实际提交至版本库中的文件。"><meta property="twitter:image" content="https://blog.yuyins.com/favicon.svg"><title>Git 的特殊文件</title><!-- Theme and color scheme script (runs before page loads to prevent flash) --><script>
			// 初始化配色方案 - 默认使用 stone-amber
			const colorScheme = localStorage.getItem('colorScheme') || 'stone-amber';
			document.documentElement.setAttribute('data-color', colorScheme);

			// 强制使用浅色主题
			document.documentElement.setAttribute('data-theme', 'light');
		</script><link rel="stylesheet" href="/_astro/_slug_.CIbPrqip.css">
<style>.blog-post-container[data-astro-cid-wrgicudb]{width:100%;margin:0 auto;padding:2rem 0}.blog-post[data-astro-cid-wrgicudb]{width:100%;min-width:0;max-width:42rem;margin:0 auto}.article-header[data-astro-cid-wrgicudb]{margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid var(--border)}.article-header[data-astro-cid-wrgicudb] h1[data-astro-cid-wrgicudb]{font-size:2rem;line-height:1.3;margin-bottom:1rem;font-weight:700;color:var(--foreground);word-break:break-word}.article-meta[data-astro-cid-wrgicudb]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:var(--muted-foreground)}.source-tag[data-astro-cid-wrgicudb]{background-color:var(--muted);color:var(--foreground);padding:.125rem .5rem;border-radius:9999px;font-weight:500;font-size:.75rem;text-decoration:none;transition:opacity .2s}.source-tag[data-astro-cid-wrgicudb]:hover{opacity:.8}.separator[data-astro-cid-wrgicudb]{color:var(--border)}.article-content[data-astro-cid-wrgicudb]{line-height:1.8;margin-bottom:3rem;font-size:1.0625rem;color:var(--foreground)}.article-content[data-astro-cid-wrgicudb] h2{margin-top:2rem;margin-bottom:1rem;font-size:1.5rem;font-weight:600}.article-content[data-astro-cid-wrgicudb] h3{margin-top:1.5rem;margin-bottom:.75rem;font-size:1.25rem;font-weight:600}.article-content[data-astro-cid-wrgicudb] p{margin-bottom:1.25rem}.article-content[data-astro-cid-wrgicudb] a{color:var(--accent);text-decoration:underline;text-underline-offset:2px}.article-content[data-astro-cid-wrgicudb] img{max-width:100%;height:auto;border-radius:.5rem;margin:1.5rem 0}.article-content[data-astro-cid-wrgicudb] blockquote{border-left:4px solid var(--border);padding-left:1rem;margin:1.5rem 0;color:var(--muted-foreground);font-style:italic}.article-content[data-astro-cid-wrgicudb] pre{background:var(--muted);padding:1rem;border-radius:.5rem;overflow-x:auto;font-family:monospace;margin:1.5rem 0}.article-content[data-astro-cid-wrgicudb] ul,.article-content[data-astro-cid-wrgicudb] ol{padding-left:1.5rem;margin-bottom:1.25rem}.article-content[data-astro-cid-wrgicudb] li{margin-bottom:.5rem}.article-footer[data-astro-cid-wrgicudb]{padding-top:2rem;border-top:1px solid var(--border);display:flex;flex-direction:column;gap:1.5rem;align-items:center}.action-row[data-astro-cid-wrgicudb]{display:flex;justify-content:center}.read-original-btn[data-astro-cid-wrgicudb]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background-color:var(--foreground);color:var(--background);border-radius:.5rem;font-weight:500;text-decoration:none;transition:opacity .2s}.read-original-btn[data-astro-cid-wrgicudb]:hover{opacity:.9}.back-to-list[data-astro-cid-wrgicudb]{text-align:center}.back-link[data-astro-cid-wrgicudb]{color:var(--muted-foreground);text-decoration:none;font-size:.875rem;transition:color .2s}.back-link[data-astro-cid-wrgicudb]:hover{color:var(--foreground)}
</style></head> <body data-astro-cid-sckkx6r4> <a id="skip-to-content" href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-accent focus:text-background" data-astro-cid-sckkx6r4>Skip to content</a> <header class="header" data-astro-cid-3ef6ksr2> <nav class="header-nav" aria-label="Main navigation" data-astro-cid-3ef6ksr2> <a href="/" class="header-logo" data-astro-cid-3ef6ksr2>
AstroBlog
</a> <div class="header-links" data-astro-cid-3ef6ksr2> <ul class="nav-list" data-astro-cid-3ef6ksr2> <li data-astro-cid-3ef6ksr2> <a href="/" class="nav-link" data-astro-prefetch="true" data-astro-cid-3ef6ksr2> 文章 </a> </li><li data-astro-cid-3ef6ksr2> <a href="/category" class="nav-link" data-astro-prefetch="true" data-astro-cid-3ef6ksr2> 分类 </a> </li><li data-astro-cid-3ef6ksr2> <a href="/reading-list" class="nav-link" data-astro-prefetch="true" data-astro-cid-3ef6ksr2> 订阅 </a> </li><li data-astro-cid-3ef6ksr2> <a href="/about" class="nav-link" data-astro-prefetch="true" data-astro-cid-3ef6ksr2> 关于 </a> </li> </ul> <div class="header-actions" data-astro-cid-3ef6ksr2> <div id="search" data-astro-cid-otpdt6jm> <button id="search-button" class="search-toggle" aria-label="打开搜索" title="搜索 (⌘K)" data-astro-cid-otpdt6jm> <svg class="search-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-astro-cid-otpdt6jm> <circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-astro-cid-otpdt6jm></circle> <path d="M20 20L16.5 16.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-astro-cid-otpdt6jm></path> </svg> </button> <dialog id="search-dialog" class="search-modal" data-astro-cid-otpdt6jm> <div class="modal-content" data-astro-cid-otpdt6jm> <div class="modal-header" data-astro-cid-otpdt6jm> <h2 class="modal-title" data-astro-cid-otpdt6jm>搜索文章</h2> <button id="close-search" class="close-button" aria-label="关闭搜索" data-astro-cid-otpdt6jm> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-astro-cid-otpdt6jm> <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-otpdt6jm></path> </svg> </button> </div> <div id="pagefind-ui" data-astro-cid-otpdt6jm></div> </div> </dialog> </div> <script type="module">let d=!1;const c="pagefind-loaded";async function l(t=0){if(sessionStorage.getItem(c)==="true")return g(),!0;const r=document.getElementById("pagefind-ui");if(!r)return!1;r.innerHTML='<div style="padding: 2rem; text-align: center; color: var(--muted-foreground);">加载中...</div>';try{return await new Promise((o,s)=>{const a=document.createElement("script");a.src="/pagefind/pagefind-ui.js",a.onload=o,a.onerror=s,document.head.appendChild(a)}),g(),sessionStorage.setItem(c,"true"),!0}catch(i){return console.error("Failed to load search:",i),t<2?(console.log(`Retrying search load... (${t+1}/2)`),await new Promise(o=>setTimeout(o,1e3)),l(t+1)):(r&&(r.innerHTML=`
          <div style="padding: 2rem; text-align: center;">
            <p style="color: var(--muted-foreground); margin-bottom: 1rem;">搜索功能加载失败</p>
            <button id="retry-search" style="padding: 0.5rem 1rem; background: var(--accent); color: var(--accent-foreground); border: none; border-radius: 0.375rem; cursor: pointer;">
              重试
            </button>
          </div>
        `,document.getElementById("retry-search")?.addEventListener("click",()=>{sessionStorage.removeItem(c),l(0)})),!1)}}function g(){typeof PagefindUI<"u"&&(new PagefindUI({element:"#pagefind-ui",showSubResults:!0,showImages:!1,excerptLength:15,translations:{placeholder:"搜索文章...",clear_search:"清除",load_more:"加载更多",search_label:"搜索此站点",filters_label:"筛选",zero_results:"未找到结果 [SEARCH_TERM]",many_results:"找到 [COUNT] 个结果 [SEARCH_TERM]",one_result:"找到 [COUNT] 个结果 [SEARCH_TERM]",alt_search:"未找到 [SEARCH_TERM] 的结果。显示 [DIFFERENT_TERM] 的结果",search_suggestion:"未找到 [SEARCH_TERM] 的结果。尝试以下搜索：",searching:"搜索中 [SEARCH_TERM]..."}}),setTimeout(()=>{const t=document.querySelector(".pagefind-ui__search-input");t instanceof HTMLElement&&t.focus()},100))}function u(){if(d)return;d=!0;const t=document.getElementById("search-button"),n=document.getElementById("search-dialog"),r=document.getElementById("close-search");if(!t||!n||!r)return;let i=sessionStorage.getItem(c)==="true";const o=async()=>{n.showModal(),document.body.style.overflow="hidden",i?setTimeout(()=>{const e=document.querySelector(".pagefind-ui__search-input");e instanceof HTMLElement&&e.focus()},100):await l()&&(i=!0)},s=()=>{n.close(),document.body.style.overflow=""},a=e=>{e.target===n&&s()},m=e=>{e.key==="Escape"&&n.open&&s()},f=e=>{(e.metaKey||e.ctrlKey)&&e.key==="k"&&(e.preventDefault(),n.open?s():o())};t.addEventListener("click",o),r.addEventListener("click",s),n.addEventListener("click",a),document.addEventListener("keydown",m),document.addEventListener("keydown",f),document.addEventListener("astro:before-swap",()=>{t.removeEventListener("click",o),r.removeEventListener("click",s),n.removeEventListener("click",a),document.removeEventListener("keydown",m),document.removeEventListener("keydown",f),d=!1},{once:!0})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",u):u();document.addEventListener("astro:page-load",u);</script> <link href="/pagefind/pagefind-ui.css" rel="stylesheet">  </div> </div> </nav> </header>  <main id="main-content" data-pagefind-body class="main-content main-content--wide" data-astro-cid-sckkx6r4>  <div class="blog-post-container" data-astro-cid-wrgicudb> <article class="blog-post" data-astro-cid-wrgicudb> <header class="article-header" data-astro-cid-wrgicudb> <h1 data-astro-cid-wrgicudb>Git 的特殊文件</h1> <div class="article-meta" data-astro-cid-wrgicudb> <a href="https://nesbitt.io" target="_blank" rel="noopener noreferrer" class="source-tag" data-astro-cid-wrgicudb>nesbitt.io</a> <span class="separator" data-astro-cid-wrgicudb>·</span> <time data-astro-cid-wrgicudb>2026年2月5日</time> </div> </header> <!-- 使用清洗后的安全 HTML 内容 --> <div class="article-content app-prose" data-astro-cid-wrgicudb><p>A follow-up to my post on <a href="/2025/11/26/extending-git-functionality.html" target="_blank" rel="noopener noreferrer">extending git functionality</a>. Git looks for several special files in your repository that control its behavior. These aren’t configuration files in <code>.git/</code>, they’re committed files that travel with your code and affect how git treats your files.</p>

<p>If you’re building a tool that works with git repositories, like <a href="https://github.com/git-pkgs/git-pkgs" target="_blank" rel="noopener noreferrer">git-pkgs</a>, you’ll want to ensure you respect these configs.</p>

<h3>.gitignore</h3>

<p>Patterns of files git should never track. One pattern per line, supports wildcards and directory markers.</p>

<div><div><pre><code>node_modules/
*.log
.env
dist/
</code></pre></div></div>

<p>Git checks multiple ignore files in order: <code>.gitignore</code> in each directory, <code>.git/info/exclude</code> for local-only ignores, and the global ignore file at <code>~/.config/git/ignore</code> or wherever <code>core.excludesFile</code> points. Global ignores are good for OS-specific files like <code>.DS_Store</code> or <code>Thumbs.db</code> that shouldn’t clutter every project’s <code>.gitignore</code>.</p>

<p>The pattern matching supports wildcards (<code>*.log</code>), directory markers (<code>dist/</code>), negation (<code>!important.log</code>), and character ranges. The <code>**</code> pattern matches nested directories.</p>

<p>GitHub, GitLab, and Gitea all respect <code>.gitignore</code> and won’t show ignored files in the web UI. Package managers often ship with their own ignore patterns (<code>node_modules/</code>, <code>vendor/</code>, <code>target/</code>) that you’re expected to add to your ignore file.</p>

<p>See the <a href="https://git-scm.com/docs/gitignore" target="_blank" rel="noopener noreferrer">gitignore docs</a> for the full pattern syntax. GitHub maintains <a href="https://github.com/github/gitignore" target="_blank" rel="noopener noreferrer">a collection of .gitignore templates</a> for different languages and frameworks.</p>

<h3>.gitattributes</h3>

<p>Tells git how to handle specific files. This is where you configure filters, diff drivers, merge drivers, line ending normalization, and language detection overrides.</p>

<div><div><pre><code># Clean/smudge filters
*.psd filter=lfs diff=lfs merge=lfs

# Line ending normalization
*.sh text eol=lf
*.bat text eol=crlf

# Treat as binary
*.png binary

# Custom diff driver
*.json diff=json

# Merge strategy
package-lock.json merge=ours

# Language detection override for GitHub Linguist
vendor/* linguist-vendored
*.gen.go linguist-generated
docs/* linguist-documentation
</code></pre></div></div>

<p>The <code>text</code> attribute tells git to normalize line endings. The <code>binary</code> attribute tells git not to diff or merge, just pick one version. The <code>merge=ours</code> strategy always keeps your version during merge conflicts.</p>

<p>GitHub Linguist reads <code>.gitattributes</code> to override its language detection. Mark vendored code with <code>linguist-vendored</code> to exclude it from language statistics. Mark generated files with <code>linguist-generated</code> to collapse them in diffs. Mark documentation with <code>linguist-documentation</code> to exclude it from stats.</p>

<p>Like <code>.gitignore</code>, git checks <code>.gitattributes</code> files in each directory and <code>.git/info/attributes</code> for local-only attributes.</p>

<p>The <a href="https://git-scm.com/docs/gitattributes" target="_blank" rel="noopener noreferrer">gitattributes docs</a> cover all attributes. The <a href="https://github.com/github-linguist/linguist/blob/main/docs/overrides.md" target="_blank" rel="noopener noreferrer">GitHub Linguist docs</a> list its specific attributes.</p>

<h3>.lfsconfig</h3>

<p>Git LFS configuration that travels with the repository. Uses git config format to set the LFS endpoint URL, transfer settings, and other LFS options.</p>

<div><div><pre><code>[lfs]
    url = https://lfs.example.com/repo
[lfs "transfer"]
    maxretries = 3
</code></pre></div></div>

<p>Git LFS reads <code>.lfsconfig</code> automatically when you run LFS commands. This lets you commit LFS configuration so everyone working on the repo uses the same settings. Without it, developers need to manually configure their local LFS setup.</p>

<p>LFS also uses <code>.gitattributes</code> to mark which files should be handled by LFS (the <code>*.psd filter=lfs diff=lfs merge=lfs</code> pattern shown above). The <code>.lfsconfig</code> file handles the LFS-specific settings like where to find the LFS server. If you add file patterns to LFS after files are already committed, you need to run <code>git lfs migrate</code> to rewrite history and move those files into LFS.</p>

<p>See the <a href="https://github.com/git-lfs/git-lfs/blob/main/docs/man/git-lfs-config.adoc" target="_blank" rel="noopener noreferrer">Git LFS config docs</a> for all available options.</p>

<h3>.gitmodules</h3>

<p>Configuration for git submodules. Git writes this file when you run <code>git submodule add</code> and reads it when you run <code>git submodule update</code>.</p>

<div><div><pre><code>[submodule "vendor/lib"]
    path = vendor/lib
    url = https://github.com/example/lib.git
    branch = main
</code></pre></div></div>

<p>Each submodule gets an entry with its path, URL, and optionally the branch to track. The file lives at the root of your repository.</p>

<p>Submodules let you embed other git repositories as dependencies. Running <code>git clone</code> doesn’t fetch submodule content automatically, you need <code>git submodule update --init --recursive</code> or pass <code>--recurse-submodules</code> to clone.</p>

<p>They don’t handle versioning well (you track a specific commit, not a version range), they create nested <code>.git</code> directories, and forgetting to update them creates confusing states.</p>

<p>But submodules work fine for vendoring code you control or for monorepo structures where you want to check out only part of the tree.</p>

<p>The <a href="https://git-scm.com/docs/git-submodule" target="_blank" rel="noopener noreferrer">git submodules docs</a> explain the full workflow. The <a href="https://git-scm.com/docs/gitmodules" target="_blank" rel="noopener noreferrer">gitmodules docs</a> cover the file format.</p>

<h3>.mailmap</h3>

<p>Maps author names and email addresses to canonical identities. Git uses this for <code>git log</code>, <code>git shortlog</code>, and <code>git blame</code> output.</p>

<div><div><pre><code># Map old email to new email
Jane Developer &lt;jane@company.com&gt; &lt;jane@oldcompany.com&gt;

# Standardize name spelling
Jane Developer &lt;jane@company.com&gt; Jane Dev &lt;jane@company.com&gt;

# Fix both
Jane Developer &lt;jane@company.com&gt; &lt;janed@personal.com&gt;
Jane Developer &lt;jane@company.com&gt; J Developer &lt;janed@personal.com&gt;
</code></pre></div></div>

<p>The format is <code>Proper Name &lt;proper@email.com&gt; Commit Name &lt;commit@email.com&gt;</code>. Git looks for entries matching the commit author and rewrites the output.</p>

<p>This matters for contributor statistics. GitHub’s contributor graphs use mailmap. <code>git shortlog -sn</code> uses it to count commits per author. Tools analyzing commit history use it.</p>

<p>Without mailmap, contributors who changed email addresses or fixed typos in their names show up as multiple people. With it, all their commits aggregate under one identity.</p>

<p>The <a href="https://git-scm.com/docs/gitmailmap" target="_blank" rel="noopener noreferrer">gitmailmap docs</a> cover the file format. You can put mailmap at <code>.mailmap</code> in the repo root or configure <code>mailmap.file</code> to point elsewhere.</p>

<h3>.git-blame-ignore-revs</h3>

<p>Lists commits that <code>git blame</code> should skip. Put the commit SHA of bulk formatting changes, linting passes, or other noise commits in this file and blame will look through them to find the meaningful change.</p>

<div><div><pre><code># .git-blame-ignore-revs
# Ran prettier on entire codebase
a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0

# Migrated to ESLint flat config
b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1
</code></pre></div></div>

<p>Configure git to use it with <code>git config blame.ignoreRevsFile .git-blame-ignore-revs</code>. GitHub, GitLab (15.4+), and Gitea all read this file automatically without configuration.</p>

<p>This solves the problem where running a formatter on the entire codebase makes <code>git blame</code> useless. With this file, blame skips those commits and shows the actual author of the logic.</p>

<p>The file format is simple: one commit SHA per line, with <code>#</code> for comments. See the <a href="https://git-scm.com/docs/git-blame#Documentation/git-blame.txt---ignore-revs-fileltfilegt" target="_blank" rel="noopener noreferrer">git blame docs</a> for details.</p>

<h3>.gitmessage</h3>

<p>A template for commit messages. You configure this with <code>git config commit.template .gitmessage</code> and git will pre-fill the commit message editor with this content.</p>

<div><div><pre><code># .gitmessage
# &lt;type&gt;: &lt;subject&gt;
#
# &lt;body&gt;
#
# &lt;footer&gt;
#
# Types: feat, fix, docs, style, refactor, test, chore
</code></pre></div></div>

<p>Unlike the other files in this post, <code>.gitmessage</code> requires manual configuration per clone. Each developer needs to run <code>git config commit.template .gitmessage</code> after cloning. Some teams automate this with a setup script or use tools like <a href="https://github.com/typicode/husky" target="_blank" rel="noopener noreferrer">husky</a> to set local configs during installation. This extra step is why most projects prefer <code>commit-msg</code> hooks to validate format rather than templates to guide writing.</p>

<p>The <a href="https://git-scm.com/docs/git-commit#_discussion" target="_blank" rel="noopener noreferrer">git commit docs</a> mention template files. The <code>prepare-commit-msg</code> hook is an alternative that can generate dynamic templates.</p>

<h2>Forge-Specific Folders</h2>

<p>Git forges extend repositories with their own magic folders: <code>.github/</code>, <code>.gitlab/</code>, <code>.gitea/</code>, <code>.forgejo/</code>, <code>.bitbucket/</code>. These aren’t git features, but they follow the same pattern: configuration that travels with your code.</p>

<p>Inside these folders you’ll find CI/CD workflows, issue and PR templates, CODEOWNERS files mapping paths to required reviewers, and other forge-specific configuration. The folders let forges add features without polluting the repository root.</p>

<p>Forgejo and Gitea have fallback chains. Forgejo checks <code>.forgejo/</code> → <code>.gitea/</code> → <code>.github/</code>. Gitea checks <code>.gitea/</code> → <code>.github/</code>. This lets you override GitHub-specific config when hosting on multiple platforms.</p>

<p>SourceHut uses <code>.build.yml</code> at the root or <code>.builds/*.yml</code> for CI, without a dedicated folder namespace.</p>

<h2>Other Conventions</h2>

<p><strong>.gitkeep</strong> is a convention, not a git feature. Git doesn’t track empty directories. If you want an empty directory in your repository, you put a <code>.gitkeep</code> file in it so git has something to track. The filename <code>.gitkeep</code> is arbitrary, it could be anything.</p>

<p><strong>.gitconfig</strong> files sometimes appear in repositories as suggested configuration. Git won’t load these automatically (security reasons), but projects include them with instructions to run <code>git config include.path ../.gitconfig</code> or manually copy settings. Common in monorepos or projects with specific git settings they want to standardize.</p>

<p><strong>.gitsigners</strong> or similar files track GPG/SSH signing keys for trusted contributors. Not a native git feature, but used by some projects (notably the Linux kernel) as part of their signing workflow. Git’s <code>gpg.ssh.allowedSignersFile</code> config can point to a file of trusted SSH keys that <code>git log --show-signature</code> uses for verification.</p>

<p><strong>.gitreview</strong> configures <a href="https://www.gerritcodereview.com/" target="_blank" rel="noopener noreferrer">Gerrit</a> code review integration. Used by projects hosted on Gerrit (OpenStack, Android, Eclipse) to specify which Gerrit server and project to push to.</p>

<div><div><pre><code>[gerrit]
host=review.opendev.org
port=29418
project=openstack/nova.git
defaultbranch=master
</code></pre></div></div>

<p>Running <a href="https://docs.opendev.org/opendev/git-review/latest/" target="_blank" rel="noopener noreferrer"><code>git review</code></a> reads this file and pushes commits to Gerrit for review instead of directly to the branch. It’s a canonical example of a tool extending git’s workflow through a committed config file.</p>

<p><strong>.gitlint</strong> configures <a href="https://jorisroovers.com/gitlint/" target="_blank" rel="noopener noreferrer">gitlint</a> for commit message linting. Follows the same pattern: commit the config, everyone gets the same rules.</p>

<div><div><pre><code>[general]
ignore=body-is-missing

[title-max-length]
line-length=72
</code></pre></div></div>

<p>Gitlint reads this to validate commit message format. Similar to using a <code>commit-msg</code> hook but with the configuration traveling with the repository.</p>

<p><strong>.jj/</strong> is <a href="https://github.com/jj-vcs/jj" target="_blank" rel="noopener noreferrer">Jujutsu</a>’s working copy state directory. Jujutsu is a git-compatible VCS that stores its own metadata in <code>.jj/</code> while respecting all of git’s magic files. If you use <code>jj</code>, you’ll have both <code>.git/</code> and <code>.jj/</code> in your repository, and <code>.gitignore</code>, <code>.gitattributes</code>, <code>.mailmap</code> all work the same way.</p>

<h2>Beyond Git</h2>

<p>The pattern extends beyond git. Other tools follow the same approach: drop a dotfile in your repository, tools detect it automatically, behavior changes.</p>

<p><strong>.editorconfig</strong> standardizes editor behavior across teams. Put it at the root of your repo and editors read it to configure indent style, line endings, trailing whitespace, and character encoding.</p>

<div><div><pre><code>root = true

[*]
indent_style = space
indent_size = 2
end_of_line = lf
charset = utf-8
trim_trailing_whitespace = true

[*.md]
trim_trailing_whitespace = false
</code></pre></div></div>

<p>VS Code, Vim, Emacs, Sublime, and most other editors either support it natively or have plugins. See <a href="https://editorconfig.org/" target="_blank" rel="noopener noreferrer">editorconfig.org</a> for the full spec.</p>

<p><strong>.ruby-version</strong>, <strong>.node-version</strong>, <strong>.python-version</strong> tell version managers which language version to use. Tools like rbenv, nodenv, pyenv, nvm, and asdf read these files when you <code>cd</code> into the directory and automatically switch versions.</p>

<div><div><pre><code># .ruby-version
3.3.0

# .node-version
20.11.0
</code></pre></div></div>

<p><strong>.tool-versions</strong> is asdf’s multi-language version file. One file for all languages.</p>

<div><div><pre><code>ruby 3.3.0
nodejs 20.11.0
python 3.12.0
</code></pre></div></div>

<p><strong>.dockerignore</strong> works like <code>.gitignore</code> but for Docker build context. When you run <code>docker build</code>, Docker sends files to the daemon. List patterns in <code>.dockerignore</code> and Docker won’t send them.</p>

<div><div><pre><code>.git
node_modules
*.log
.env
</code></pre></div></div>

<p>This speeds up builds and keeps secrets out of images. The syntax matches <code>.gitignore</code>: wildcards, negation, directory markers.</p>

<h2>Supporting These Files</h2>

<p>If you’re building tools that interact with git repositories, you probably want to respect these files:</p>

<ul>
  <li>Read <code>.gitignore</code> when walking the repository tree</li>
  <li>Read <code>.gitattributes</code> to know which files are binary, vendored, or generated</li>
  <li>Read <code>.mailmap</code> when displaying author information</li>
  <li>Read <code>.gitmodules</code> if you need to handle submodules</li>
</ul>

<p>The git config format (used by <code>.gitmodules</code> and various other files) is <code>[section "subsection"] key = value</code>. Git ships a <code>git config</code> command that reads and writes these files correctly. Most languages have git config parsers in their git libraries.</p>

<hr />

<p>If you know of other git magic files or have corrections, reach out on <a href="https://mastodon.social/@andrewnez" target="_blank" rel="noopener noreferrer">Mastodon</a> or submit a pull request on <a href="https://github.com/andrew/nesbitt.io" target="_blank" rel="noopener noreferrer">GitHub</a>.</p></div> <footer class="article-footer" data-astro-cid-wrgicudb> <div class="action-row" data-astro-cid-wrgicudb> <a href="https://nesbitt.io/2026/02/05/git-magic-files.html" target="_blank" rel="noopener noreferrer" class="read-original-btn" data-astro-cid-wrgicudb>
阅读原文 ↗
</a> </div> <div class="back-to-list" data-astro-cid-wrgicudb> <a href="/reading-list" class="back-link" data-astro-cid-wrgicudb>← 返回订阅列表</a> </div> </footer> </article> </div>  </main> <footer class="site-footer" aria-label="Site footer" data-astro-cid-sz7xmlte> <div class="footer-content" data-astro-cid-sz7xmlte> <p class="footer-text" data-astro-cid-sz7xmlte>
&copy; 2026 AstroBlog
</p> <p class="footer-text" data-astro-cid-sz7xmlte>
Built with  <a href="https://astro.build/" target="_blank" rel="noopener noreferrer" class="footer-link" data-astro-cid-sz7xmlte>
Astro
</a> </p> </div> </footer>  </body></html> 